# Google SSO Integration

LeverFlag supports Google Sign-In (SSO) out of the box. This guide explains how to configure it.

## Backend Configuration

1.  **Obtain OAuth Credentials**: Go to the [Google Cloud Console](https://console.cloud.google.com/) and create a new Project.
2.  **Create Credentials**: Navigate to "APIs & Services" > "Credentials" and creating an OAuth 2.0 Client ID.
3.  **Configure LeverFlag**:
    - Update `config.yaml` or set environment variables:
      ```yaml
      google:
        client_id: "YOUR_GOOGLE_CLIENT_ID"
      ```
    - Or via Docker env: `GOOGLE_CLIENT_ID=...`

## Frontend Integration

The LeverFlag Console is already pre-wired for Google SSO. You just need to provide the Client ID.

### Running Console locally

```bash
VITE_GOOGLE_CLIENT_ID=YOUR_CLIENT_ID npm run dev
```

### Docker

Pass the client ID as a build argument or environment variable:

```bash
docker run -e VITE_GOOGLE_CLIENT_ID=... ...
```

## Custom Frontend

If you are building your own frontend, you can use the `POST /api/v1/auth/google` endpoint.

1.  Use the Google Identity Services SDK to get an `idToken`.
2.  Send the token to LeverFlag:

    ```javascript
    const response = await fetch("/api/v1/auth/google", {
        method: "POST",
        body: JSON.stringify({ idToken: googleIdToken })
    });
    const { auth_token } = await response.json();
    ```

3.  Use the returned `auth_token` for subsequent requests.
